server:
  port: 8080

# 多提供者配置
geoip:
  providers:
    # IPIP.NET - 中國地區優先
    - type: ipip
      db_path: ./data/ipipfree.ipdb
      priority: 1
      region: cn

    # MaxMind - 海外地區優先
    - type: maxmind
      db_path: ./data/GeoLite2-City.mmdb
      priority: 1
      region: global

    # 外部 API 提供者（可選，指定 provider 參數時使用）
    # 注意：啟用後會在智能路由時作為 fallback，消耗 API 配額
    # 建議：只在手動指定 provider 時使用，智能路由時關閉
    - type: ip-api        # 免費，45 req/min
      priority: 10
      region: all
    #
    # - type: ipinfo        # 免費，50k req/month
    #   priority: 11
    #   region: all
    #
    # - type: ipapi.co      # 免費，1k req/day
    #   priority: 12
    #   region: all

redis:
  host: localhost
  port: 6379

cache:
  enabled: true
  ttl: 24h
  # 啟動時清空 DNS 緩存：設置環境變數 FLUSH_DNS=true

rate_limit:
  enabled: false

batch:
  max_size: 100

log:
  level: info
  format: json  # json 或 console
